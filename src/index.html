<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Bootstrap 4 Layout</title>
        <meta http-equiv="x-ua-compatible" content="ie=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="stylesheet" href="/css/bootstrap.css">
        <link rel="stylesheet" href="/css/styles.css">
    </head>

    <body height="100vh" min-height="100vh">

        <script src="/js/jquery.min.js"></script>
        <script src="/js/popper.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/d3.min.js"></script>

        <div class="container">
            <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">json</span>
                </div>
                <textarea id="json" class="form-control" aria-label="json"></textarea>
              </div>

              <button type="button" id="loadJson" class="btn btn-primary">Load json</button>

              <svg id="svg" width="100vw" min-width="100vw" height="100vh" min-height="100vh">
                  
              </svg>
        </div>

        <script>
            $('#loadJson').on('click', function(event) {
                event.preventDefault();
                var json = $('textarea#json').val();
                LoadJson(json);
            });            
        </script>

        <script type="application/json" id="mis">
        {
            "nodes": [
            {
                "attributes":
                [
                    { "key": "Id", "value": "f0e305ae-a878-4386-a83a-48e42564b638" },
                    { "key": "Name", "value": "Henrik Vindshøj" },
                    { "key": "Email", "value": "henrik@vindshoej.dk" },
                    { "key": "Phone", "value": "+4520706897" }
               ],
               "group": 1
            },
            {
                "attributes": 
                [
                    { "key": "Id", "value": "00755547-b688-4487-bf94-72189aec828b" },
                    { "key": "Name", "value": "Else Vindshøj" },
                    { "key": "Email", "value": "else@whoelse.dk" }
                ],
               "group": 1
            },
            {
                "attributes": 
                [
                    { "key": "Id", "value": "06d66f0c-6d7c-48d1-8635-dffcb470d88f" },
                    { "key": "Name", "value": "Lauge Vindshøj" },
                    { "key": "Email", "value": "lauge@vindshoej.dk" }
                ],
                "group": 4
            },
            {
                "attributes": 
                [
                    { "key": "Id", "value": "c5959882-61ac-48ad-8bce-a0d5701e29e9" },
                    { "key": "Name", "value": "Crazy Guy" },
                    { "key": "Email", "value": "crazy@hacker.ru" }
                ],
                "group": 2
            },
            {
                "attributes": 
                [
                    { "key": "Id", "value": "22d667a9-d93b-402e-a3f8-23de08e4c003" },
                    { "key": "Name", "value": "Crazy Man" },
                    { "key": "Email", "value": "kong@gulerod.ru" }
                ],
                "group": 2
            }
         ],
         "links": [
            {
               "source": 3,
               "target": 2
            },
            {
               "source": 0,
               "target": 1
            },
            {
               "source": 2,
               "target": 1
            }
         ]
        }</script>

        <script src="/js/main.js"></script>

        <script>
            var mis = document.getElementById('mis').innerHTML;
            $('textarea#json').val(mis);
            LoadJson(mis);

            setTimeout(() => {
                LoadJson(mis);
            }, 1000);

        </script>

    </body>
</html>